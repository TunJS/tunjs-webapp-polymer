<script src="../../bower_components/page/page.js"></script>
<script>
window.addEventListener('WebComponentsReady', function() {

  var app = document.querySelector('#app');

  var headerPanel;

  app.addEventListener('dom-change', function() {
    headerPanel = document.querySelector('paper-scroll-header-panel[main]');
  });

  page('*', function(context, next) {
    if (headerPanel)
      headerPanel.scroller.scrollTop = 0;
    next();
  });

  page('/', function() {
    app.route = 'home';
  });

  page('/members', function() {
    app.route = 'members';
  });

  page('/members/:name', function(context) {
    app.route = 'member-info';
    app.params = context.params;
  });

  page('/jobs', function() {
    app.route = 'jobs';
  });

  page('/jobs/:id', function(context) {
    app.route = 'job-info';
    app.params = context.params;
  });

  page('/contact', function(context) {
    app.route = 'contact';
  });

  page('*', function(context) {
    page.redirect('/');
  });

  page({
    hashbang: true
  });

});
</script>
